{% extends 'base.html' %}
{% block content %}
<h1 style="text-align: center;">Lista de Alunos</h1>

<form method="get" style="margin-left:10px; margin-bottom:10px;">
    <input type="text" name="q" placeholder="Buscar aluno por nome" value="{{ termo|default:'' }}">
    <button type="submit">Buscar</button>
    <a href="{% url 'listar_alunos' %}">Limpar</a>
</form>

<table border="1" style="margin-left:10px; width: 98%;">
    <tr style="text-align: center;">
        <th>Nome</th>
        <th>Matrícula</th>
        <th>Email</th>
        <th>Turma</th>
        <th>Nascimento</th>
        <th>Ações</th>
    </tr>

    {% for aluno in alunos %}
    <tr style="text-align: center;">
        <td>{{ aluno.nome }}</td>
        <td>{{ aluno.matricula }}</td>
        <td>{{ aluno.email }}</td>
        <td>{{ aluno.turma }}</td>
        <td>{{ aluno.data_nascimento }}</td>
        <td>
            <a href="{% url 'editar_aluno' aluno.id %}">Editar</a> |
            <a href="{% url 'deletar_aluno' aluno.id %}" 
               onclick="return confirm('Tem certeza que deseja excluir este aluno?')">
               Excluir
            </a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="6" style="text-align:center;">Nenhum aluno cadastrado.</td></tr>
    {% endfor %}
</table>

<p style="text-align: center;">
    <a href="{% url 'secretaria' %}">Voltar</a>
</p>
{% endblock %}
